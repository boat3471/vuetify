{"version":3,"sources":["../../../../../src/zui/components/ZAdmin/menu/ZDefaultNavDrawer.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue, { CreateElement, VNode } from 'vue'\nimport {\n  ZIcon, ZList, ZListItem, ZListItemIcon, ZListItemTitle,\n  ZNavigationDrawer,\n} from '../../../../components'\nimport { MainNavMode } from '../../../options'\nimport { getSlot } from '../../../../util/helpers'\nimport { ZThemeCustomOptions } from '../../../../../types'\nimport { ZDefaultThemeIcon } from './ZDefaultThemeIcon'\n\nexport const ZDefaultNavDrawer = Vue.extend({\n  name: 'z-default-nav-drawer',\n  props: {\n  },\n  data () {\n    return {}\n  },\n  computed: {\n    visible (): boolean {\n      if (this.$themeStore.mainNavMode === MainNavMode.Flex) {\n        return true\n      }\n      if (this.$themeStore.mainNavMode === MainNavMode.Visible) {\n        return this.$themeStore.mainNavVisible || false\n      }\n      return true\n    },\n    width (): number {\n      return this.$themeStore.mainMenuWidth || 275\n    },\n    clipped (): boolean {\n      return this.$themeStore.mainNavPosition || true\n    },\n    permanent (): boolean {\n      return this.$themeStore.mainNavMode === MainNavMode.Flex\n    },\n    foldIcon (): string {\n      return this.$themeStore.mainNavMiniMode ? 'mdi-chevron-right' : 'mdi-chevron-left'\n    },\n    expandOnHover (): boolean {\n      return this.$themeStore.mainNavMode === MainNavMode.Flex\n    },\n  },\n  watch: {\n  },\n  created () {\n  },\n  mounted () {\n  },\n  methods: {\n    onFoldClick (event: PointerEvent) {\n      event.stopPropagation()\n\n      /* 1. 重置选项 */\n      const options: ZThemeCustomOptions = {\n        mainNavMiniMode: false,\n        mainNavVisible: true,\n      }\n\n      /* 2. 更新选项 */\n      switch (this.$themeStore.mainNavMode) {\n        case MainNavMode.Visible: {\n          options.mainNavVisible = !this.$themeStore.mainNavVisible\n          break\n        }\n        case MainNavMode.Flex: {\n          const mainNavMiniMode = !this.$themeStore.mainNavMiniMode\n\n          if (mainNavMiniMode) {\n            /* 如果为mini模式，则将所有菜单收起，并禁用菜单 */\n            this.$menu.resetStatus()\n          } else {\n            /* 如果为非mini模式，则将菜单根据当前路由展开 */\n            this.$menu.activeByRoute()\n          }\n          options.mainNavMiniMode = mainNavMiniMode\n          break\n        }\n        default:\n          break\n      }\n      /* 3. 更新皮肤数据 */\n      this.$theme.settingTheme(options)\n    },\n    onThemeClick () {\n      this.$emit('click:theme')\n    },\n    /**\n     * 主菜单底部默认功能：\n     * 1、展开和收起菜单\n     * 2、皮肤设置\n     * @param h\n     */\n    genDefaultAppend (h: CreateElement): VNode {\n      const ThemePanelIcon = h(ZDefaultThemeIcon, { props: { color: 'grey darken-1' } })\n      /* 皮肤入口 */\n      const ThemePanel = h(ZListItem, {\n        on: {\n          click: this.onThemeClick,\n        },\n      }, [\n        h(ZListItemIcon, { staticClass: 'justify-center mr-3' }, [ThemePanelIcon]),\n        h(ZListItemTitle, { staticClass: 'grey--text text--darken-1' }, ['Theme']),\n      ])\n\n      /* 导航展开收起入口 */\n      const ActionNavDrawer = this.expandOnHover ? '' : h(ZListItem, {\n        on: {\n          click: this.onFoldClick,\n        },\n      }, [\n        h(ZListItemIcon, { staticClass: 'justify-center mr-3' }, [h(ZIcon, [this.foldIcon])]),\n        h(ZListItemTitle, { staticClass: 'grey--text text--darken-1' }, ['Fold']),\n      ])\n      return h(ZList, {\n        props: {\n          dense: this.$themeStore.denseMode,\n          subheader: true,\n        },\n      }, [\n        ThemePanel,\n        ActionNavDrawer,\n      ])\n    },\n  },\n  render (h): VNode {\n    const prependSlot = getSlot(this, 'prepend')\n    const appendSlot = getSlot(this, 'append')\n    return h(ZNavigationDrawer, {\n      staticClass: 'z-default-navigation-drawer',\n      props: {\n        app: true,\n        value: this.visible,\n        width: this.width,\n        clipped: this.clipped,\n        permanent: this.permanent,\n        miniVariant: this.expandOnHover,\n        expandOnHover: this.expandOnHover,\n      },\n      scopedSlots: {\n        prepend: (props: any) => prependSlot,\n        append: (props: any) => [appendSlot, this.genDefaultAppend(h)],\n      },\n      on: {\n        'change:mini-variant': (val: boolean) => {\n          if (val) {\n            this.$menu.resetStatus()\n          } else {\n            this.$menu.activeByRoute()\n          }\n        },\n      },\n    }, [this.$slots.default])\n  },\n})\n\nexport default ZDefaultNavDrawer\n"],"sourceRoot":"","file":"ZDefaultNavDrawer.js"}