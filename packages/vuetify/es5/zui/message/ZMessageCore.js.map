{"version":3,"sources":["../../../src/zui/message/ZMessageCore.ts"],"names":[],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;;;;;;;;;;;;;;;AAEA;;;;AAIA,IAAM,QAAQ,GAAG,aAAI,MAAJ,CAAW,gBAAX,CAAjB;AA+CA;;;;;IAGa,Y;;;;;;;;;;AACX;;;;yBAIM,O,EAAgC;AACpC,UAAM,OAAO,GAAG,OAAO,OAAP,KAAmB,QAAnB,GAA8B,OAA9B,GAAyC,OAAO,CAAC,OAAR,IAAmB,EAA5E;;AACA,UAAI,OAAO,IAAI,OAAO,OAAP,KAAmB,QAAlC,EAA4C;AAC1C,gBAAQ,OAAO,CAAC,IAAhB;AACE,eAAK,MAAL;AACE,mBAAO,KAAK,IAAL,CAAU,OAAV,EAAmB,OAAnB,CAAP;;AACF,eAAK,SAAL;AACE,mBAAO,KAAK,OAAL,CAAa,OAAb,EAAsB,OAAtB,CAAP;;AACF,eAAK,MAAL;AACA,eAAK,SAAL;AACE,mBAAO,KAAK,OAAL,CAAa,OAAb,EAAsB,OAAtB,CAAP;;AACF,eAAK,OAAL;AACE,mBAAO,KAAK,KAAL,CAAW,OAAX,EAAoB,OAApB,CAAP;;AACF;AACE;AAXJ;AAaD;AACF;AAED;;;;;;;;yBAKM,O,EAAiB,O,EAA4B;AACjD,UAAM,IAAI,GAAG,IAAI,QAAJ,CAAa;AACxB,QAAA,SAAS,oBACJ,OADI;AAEP,UAAA,OAAO,EAAE,OAAO,IAAI,EAFb;AAGP,UAAA,IAAI,EAAE,MAHC;AAIP,UAAA,IAAI,EAAE;AAJC,UADe;AAOxB,QAAA,MAAM,EAAE;AAPgB,OAAb,EAQV,MARU,EAAb;AASA,qCAAqB,4BAAkB,GAAlB,CAAsB,WAAtB,CAAkC,IAAI,CAAC,GAAvC,CAArB;AACD;AAED;;;;;;;;4BAKS,O,EAAiB,O,EAA4B;AACpD,UAAM,IAAI,GAAG,IAAI,QAAJ,CAAa;AACxB,QAAA,SAAS,oBACJ,OADI;AAEP,UAAA,OAAO,EAAE,OAAO,IAAI,EAFb;AAGP,UAAA,IAAI,EAAE,SAHC;AAIP,UAAA,IAAI,EAAE;AAJC,UADe;AAOxB,QAAA,MAAM,EAAE;AAPgB,OAAb,EAQV,MARU,EAAb;AASA,qCAAqB,4BAAkB,GAAlB,CAAsB,WAAtB,CAAkC,IAAI,CAAC,GAAvC,CAArB;AACD;AAED;;;;;;;;yBAKM,O,EAAiB,O,EAA4B;AACjD,aAAO,KAAK,OAAL,CAAa,OAAb,EAAsB,OAAtB,CAAP;AACD;AAED;;;;;;;;4BAKS,O,EAAiB,O,EAA4B;AACpD,UAAM,IAAI,GAAG,IAAI,QAAJ,CAAa;AACxB,QAAA,SAAS,oBACJ,OADI;AAEP,UAAA,OAAO,EAAE,OAAO,IAAI,EAFb;AAGP,UAAA,IAAI,EAAE,SAHC;AAIP,UAAA,IAAI,EAAE;AAJC,UADe;AAOxB,QAAA,MAAM,EAAE;AAPgB,OAAb,EAQV,MARU,EAAb;AASA,qCAAqB,4BAAkB,GAAlB,CAAsB,WAAtB,CAAkC,IAAI,CAAC,GAAvC,CAArB;AACD;AAED;;;;;;;;0BAKO,O,EAAiB,O,EAA4B;AAClD,UAAM,IAAI,GAAG,IAAI,QAAJ,CAAa;AACxB,QAAA,SAAS,oBACJ,OADI;AAEP,UAAA,OAAO,EAAE,OAAO,IAAI,EAFb;AAGP,UAAA,IAAI,EAAE,OAHC;AAIP,UAAA,IAAI,EAAE;AAJC,UADe;AAOxB,QAAA,MAAM,EAAE;AAPgB,OAAb,EAQV,MARU,EAAb;AASA,qCAAqB,4BAAkB,GAAlB,CAAsB,WAAtB,CAAkC,IAAI,CAAC,GAAvC,CAArB;AACD","sourcesContent":["import Vue from 'vue'\n// @ts-ignore\nimport MessageComponent from '../components/message.vue'\nimport { zMessageContainer } from '../../components/ZMessage'\n\n/**\n * 消息视图组件\n * @internal\n */\nconst ZMessage = Vue.extend(MessageComponent)\n\n/**\n * 消息选项基类\n * @internal\n */\nexport interface MessageOptionsBase {\n  /**\n   * 消息内容\n   */\n  message?: string\n  /**\n   * 持续时间，默认值为5000毫秒，为 0 时则不自动关闭\n   */\n  duration?: number\n  /**\n   * 自定义样式\n   */\n  itemClass?: string\n  /**\n   * 是否显示关闭按钮，默认显示\n   */\n  showClose?: boolean\n\n  /**\n   * 关闭时触发函数\n   * @param autoClose 是否自动关闭\n   */\n  onClose?(autoClose: boolean): void\n}\n\nexport type MessageType = 'info' | 'success' | 'warn' | 'warning' | 'error';\n\n/**\n * 消息选项\n */\nexport interface MessageOptions extends MessageOptionsBase {\n  /**\n   * 弹窗类型: info|success|warn|error\n   */\n  type: MessageType\n  /**\n   * 图标\n   */\n  icon: string\n}\n\n/**\n * 消息核心处理器\n */\nexport class ZMessageCore {\n  /**\n   * 显示消息\n   * @param options{MessageOptions|string}\n   */\n  show (options: MessageOptions | string) {\n    const content = typeof options === 'string' ? options : (options.message || '')\n    if (options && typeof options !== 'string') {\n      switch (options.type) {\n        case 'info':\n          return this.info(content, options)\n        case 'success':\n          return this.success(content, options)\n        case 'warn':\n        case 'warning':\n          return this.warning(content, options)\n        case 'error':\n          return this.error(content, options)\n        default:\n          break\n      }\n    }\n  }\n\n  /**\n   * 常规消息\n   * @param message\n   * @param options\n   */\n  info (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'info',\n        icon: 'mdi-information',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 成功消息\n   * @param message\n   * @param options\n   */\n  success (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'success',\n        icon: 'mdi-check-circle',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 告警消息\n   * @param message\n   * @param options\n   */\n  warn (message: string, options?: MessageOptionsBase) {\n    return this.warning(message, options)\n  }\n\n  /**\n   * 告警消息\n   * @param message\n   * @param options\n   */\n  warning (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'warning',\n        icon: 'mdi-alert-circle',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 错误消息\n   * @param message\n   * @param options\n   */\n  error (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'error',\n        icon: 'mdi-close-circle',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n}\n"],"sourceRoot":"","file":"ZMessageCore.js"}