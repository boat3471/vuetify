{"version":3,"sources":["../../../src/zui/message/installMessage.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AACA;;;;AAEA;;;;;AAKA,IAAM,IAAI,GAAG,IAAI,0BAAJ,EAAb;AAEA;;;;;;;AAIA,SAAS,OAAT,GAAgB;AACd,eAAI,SAAJ,CAAc,cAAd,GAA+B,YAAA;AAC7B,QAAM,CAAC,GAAG,MAAV;AACA,QAAI,IAAI,GAAG,CAAC,CAAC,kBAAb;;AACA,QAAI,CAAC,IAAL,EAAW;AACT,MAAA,IAAI,GAAG,EAAP;AACA,MAAA,CAAC,CAAC,kBAAF,GAAuB,IAAvB;AACD;;AACD,WAAO,IAAP;AACD,GARD;;AAUA,eAAI,KAAJ,CAAU;AACR,IAAA,YADQ,0BACI;AACV,UAAM,QAAQ,GAAG,KAAK,QAAtB;;AACA,UAAI,QAAQ,CAAC,OAAb,EAAsB;AACpB,aAAK,QAAL,GAAgB,IAAhB;AACD,OAFD,MAEO;AACL,QAAA,QAAQ,CAAC,MAAT,KAAoB,KAAK,QAAL,GAAgB,QAAQ,CAAC,MAAT,CAAgB,QAApD;AACD;AACF;AARO,GAAV;AAUD;;AAED,aAAI,GAAJ,CAAQ,OAAR","sourcesContent":["import Vue from 'vue'\nimport { ZMessageCore } from './ZMessageCore'\n\n/**\n * 全局通知实例:\n * 1. 可在vue组件内部使用 `this.$message` <br>\n * 2. 可引入使用 `import {message} = '@zwd/z-ui';`\n */\nconst core = new ZMessageCore()\n\n/**\n * 消息组件安装\n * @internal\n */\nfunction install () {\n  Vue.prototype.getMessageList = function () {\n    const w = window as any\n    let list = w.__ZUI_MESSAGE_LIST\n    if (!list) {\n      list = []\n      w.__ZUI_MESSAGE_LIST = list\n    }\n    return list\n  }\n\n  Vue.mixin({\n    beforeCreate () {\n      const $options = this.$options\n      if ($options.message) {\n        this.$message = core\n      } else {\n        $options.parent && (this.$message = $options.parent.$message)\n      }\n    },\n  })\n}\n\nVue.use(install)\n\nexport { core as message, install }\n"],"sourceRoot":"","file":"installMessage.js"}