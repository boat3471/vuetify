{"version":3,"sources":["../../../src/zui/message/ZMessageCore.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue from 'vue'\n// @ts-ignore\nimport MessageComponent from '../components/message.vue'\nimport { zMessageContainer } from '../../components/ZMessage'\n\n/**\n * 消息视图组件\n * @internal\n */\nconst ZMessage = Vue.extend(MessageComponent)\n\n/**\n * 消息选项基类\n * @internal\n */\nexport interface MessageOptionsBase {\n  /**\n   * 消息内容\n   */\n  message?: string\n  /**\n   * 持续时间，默认值为5000毫秒，为 0 时则不自动关闭\n   */\n  duration?: number\n  /**\n   * 自定义样式\n   */\n  itemClass?: string\n  /**\n   * 是否显示关闭按钮，默认显示\n   */\n  showClose?: boolean\n\n  /**\n   * 关闭时触发函数\n   * @param autoClose 是否自动关闭\n   */\n  onClose?(autoClose: boolean): void\n}\n\nexport type MessageType = 'info' | 'success' | 'warn' | 'warning' | 'error';\n\n/**\n * 消息选项\n */\nexport interface MessageOptions extends MessageOptionsBase {\n  /**\n   * 弹窗类型: info|success|warn|error\n   */\n  type: MessageType\n  /**\n   * 图标\n   */\n  icon: string\n}\n\n/**\n * 消息核心处理器\n */\nexport class ZMessageCore {\n  /**\n   * 显示消息\n   * @param options{MessageOptions|string}\n   */\n  show (options: MessageOptions | string) {\n    const content = typeof options === 'string' ? options : (options.message || '')\n    if (options && typeof options !== 'string') {\n      switch (options.type) {\n        case 'info':\n          return this.info(content, options)\n        case 'success':\n          return this.success(content, options)\n        case 'warn':\n        case 'warning':\n          return this.warning(content, options)\n        case 'error':\n          return this.error(content, options)\n        default:\n          break\n      }\n    }\n  }\n\n  /**\n   * 常规消息\n   * @param message\n   * @param options\n   */\n  info (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'info',\n        icon: 'mdi-information',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 成功消息\n   * @param message\n   * @param options\n   */\n  success (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'success',\n        icon: 'mdi-check-circle',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 告警消息\n   * @param message\n   * @param options\n   */\n  warn (message: string, options?: MessageOptionsBase) {\n    return this.warning(message, options)\n  }\n\n  /**\n   * 告警消息\n   * @param message\n   * @param options\n   */\n  warning (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'warning',\n        icon: 'mdi-alert-circle',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 错误消息\n   * @param message\n   * @param options\n   */\n  error (message: string, options?: MessageOptionsBase) {\n    const comp = new ZMessage({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'error',\n        icon: 'mdi-close-circle',\n      },\n      parent: zMessageContainer,\n    }).$mount()\n    zMessageContainer && zMessageContainer.$el.appendChild(comp.$el)\n  }\n}\n"],"sourceRoot":"","file":"ZMessageCore.js"}