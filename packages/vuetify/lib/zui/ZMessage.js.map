{"version":3,"sources":["../../src/zui/ZMessage.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport { ZMessageSingle, ZMessageContainer } from './components/ZMessage'\nimport { ZMessageOptions, ZMessageShowOptions, ZMessageItem, ZMessageDescription } from '../../types'\n\nlet instance: ZMessageClass\n/**\n * 消息管理器\n */\nexport class ZMessageClass implements ZMessageDescription {\n  static __wrapper: Vue\n\n  static MESSAGE_LIST: ZMessageItem[] = []\n\n  static genWrapper () {\n    if (!ZMessageClass.__wrapper) {\n      const app = document.getElementById(ZMessageClass.appId)\n      const div = document.createElement('div')\n      app && app.appendChild(div)\n      ZMessageClass.__wrapper = new ZMessageContainer({\n      }).$mount(div)\n    }\n    return ZMessageClass.__wrapper\n  }\n\n  /**\n   * 显示消息\n   * @param options\n   */\n  show (options: ZMessageShowOptions | string) {\n    let content = ''\n    if (typeof options !== 'object') {\n      content = options + ''\n      options = {\n        type: 'info',\n        message: content,\n        icon: 'mdi-information',\n      }\n    } else {\n      content = options.message || ''\n    }\n\n    switch (options.type) {\n      case 'info':\n        return this.info(content, options)\n      case 'success':\n        return this.success(content, options)\n      case 'warn':\n      case 'warning':\n        return this.warning(content, options)\n      case 'error':\n        return this.error(content, options)\n      default:\n        break\n    }\n  }\n\n  /**\n   * 常规消息\n   * @param message\n   * @param options\n   */\n  info (message: string, options?: ZMessageOptions) {\n    const container = ZMessageClass.genWrapper()\n    const comp = new ZMessageSingle({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'info',\n        icon: 'mdi-information',\n      },\n      parent: container,\n    }).$mount()\n    container && container.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 成功消息\n   * @param message\n   * @param options\n   */\n  success (message: string, options?: ZMessageOptions) {\n    const container = ZMessageClass.genWrapper()\n    const comp = new ZMessageSingle({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'success',\n        icon: 'mdi-check-circle',\n      },\n      parent: container,\n    }).$mount()\n    container && container.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 告警消息\n   * @param message\n   * @param options\n   */\n  warn (message: string, options?: ZMessageOptions) {\n    return this.warning(message, options)\n  }\n\n  /**\n   * 告警消息\n   * @param message\n   * @param options\n   */\n  warning (message: string, options?: ZMessageOptions) {\n    const container = ZMessageClass.genWrapper()\n    const comp = new ZMessageSingle({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'warning',\n        icon: 'mdi-alert-circle',\n      },\n      parent: container,\n    }).$mount()\n    container && container.$el.appendChild(comp.$el)\n  }\n\n  /**\n   * 错误消息\n   * @param message\n   * @param options\n   */\n  error (message: string, options?: ZMessageOptions) {\n    const container = ZMessageClass.genWrapper()\n    const comp = new ZMessageSingle({\n      propsData: {\n        ...options,\n        message: message || '',\n        type: 'error',\n        icon: 'mdi-close-circle',\n      },\n      parent: container,\n    }).$mount()\n    container && container.$el.appendChild(comp.$el)\n  }\n\n  getMessageList (): ZMessageItem[] {\n    let list = ZMessageClass.MESSAGE_LIST\n    if (!list) {\n      list = []\n      ZMessageClass.MESSAGE_LIST = list\n    }\n    return list\n  }\n\n  constructor () {\n    if (!instance) {\n      instance = this\n    }\n    return instance\n  }\n\n  static appId = 'app'\n\n  static genInstance (): ZMessageClass {\n    if (!instance) {\n      instance = new ZMessageClass()\n    }\n    return instance\n  }\n}\n\n/**\n * 全局通知实例:\n * 1. 可在vue组件内部使用 `this.$message` <br>\n * 2. 可引入使用 `import {ZMessage} = '@zwd/z-ui';`\n */\nexport const ZMessage = ZMessageClass.genInstance()\n"],"sourceRoot":"","file":"ZMessage.js"}