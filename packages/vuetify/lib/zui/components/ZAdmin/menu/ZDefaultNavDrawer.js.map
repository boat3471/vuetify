{"version":3,"sources":["../../../../../src/zui/components/ZAdmin/menu/ZDefaultNavDrawer.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue, { CreateElement, VNode } from 'vue'\nimport {\n  ZIcon, ZList, ZListItem, ZListItemIcon, ZListItemTitle,\n  ZNavigationDrawer,\n} from '../../../../components'\nimport { MainNavMode } from '../../../options'\nimport { getSlot } from '../../../../util/helpers'\nimport { ZThemeCustomOptions } from '../../../../../types'\n\nexport const ZDefaultNavDrawer = Vue.extend({\n  name: 'z-default-nav-drawer',\n  props: {\n  },\n  data () {\n    return {}\n  },\n  computed: {\n    visible (): boolean {\n      if (this.$themeStore.mainNavMode === MainNavMode.Flex) {\n        return true\n      }\n      if (this.$themeStore.mainNavMode === MainNavMode.Visible) {\n        return this.$themeStore.mainNavVisible || false\n      }\n      return true\n    },\n    width (): number {\n      return this.$themeStore.mainMenuWidth || 275\n    },\n    clipped (): boolean {\n      return this.$themeStore.mainNavPosition || true\n    },\n    permanent (): boolean {\n      return this.$themeStore.mainNavMode === MainNavMode.Flex\n    },\n    themeIcon (): string {\n      return this.$themeStore.darkStatus ? 'mdi-brightness-4' : 'mdi-brightness-7'\n    },\n    foldIcon (): string {\n      return this.$themeStore.mainNavMiniMode ? 'mdi-chevron-right' : 'mdi-chevron-left'\n    },\n    expandOnHover (): boolean {\n      return this.$themeStore.mainNavMode === MainNavMode.Flex\n    },\n  },\n  watch: {\n  },\n  created () {\n  },\n  mounted () {\n  },\n  methods: {\n    onFoldClick (event: PointerEvent) {\n      event.stopPropagation()\n\n      /* 1. 重置选项 */\n      const options: ZThemeCustomOptions = {\n        mainNavMiniMode: false,\n        mainNavVisible: true,\n      }\n\n      /* 2. 更新选项 */\n      switch (this.$themeStore.mainNavMode) {\n        case MainNavMode.Visible: {\n          options.mainNavVisible = !this.$themeStore.mainNavVisible\n          break\n        }\n        case MainNavMode.Flex: {\n          const mainNavMiniMode = !this.$themeStore.mainNavMiniMode\n\n          if (mainNavMiniMode) {\n            /* 如果为mini模式，则将所有菜单收起，并禁用菜单 */\n            this.$menu.resetStatus()\n          } else {\n            /* 如果为非mini模式，则将菜单根据当前路由展开 */\n            this.$menu.activeByRoute()\n          }\n          options.mainNavMiniMode = mainNavMiniMode\n          break\n        }\n        default:\n          break\n      }\n      /* 3. 更新皮肤数据 */\n      this.$theme.settingTheme(options)\n    },\n    onThemeClick () {\n      this.$emit('click:theme')\n    },\n    /**\n     * 主菜单底部默认功能：\n     * 1、展开和收起菜单\n     * 2、皮肤设置\n     * @param h\n     */\n    genDefaultAppend (h: CreateElement): VNode {\n      const ThemePanelIcon = h(ZIcon, {\n        props: { color: 'grey darken-1', size: 18 },\n      }, [this.themeIcon])\n\n      /* 皮肤入口 */\n      const ThemePanel = h(ZListItem, {\n        on: {\n          click: this.onThemeClick,\n        },\n      }, [\n        h(ZListItemIcon, { staticClass: 'justify-center mr-3' }, [ThemePanelIcon]),\n        h(ZListItemTitle, { staticClass: 'grey--text text--darken-1' }, ['Theme']),\n      ])\n\n      /* 导航展开收起入口 */\n      const ActionNavDrawer = this.expandOnHover ? '' : h(ZListItem, {\n        on: {\n          click: this.onFoldClick,\n        },\n      }, [\n        h(ZListItemIcon, { staticClass: 'justify-center mr-3' }, [h(ZIcon, [this.foldIcon])]),\n        h(ZListItemTitle, { staticClass: 'grey--text text--darken-1' }, ['Fold']),\n      ])\n      return h(ZList, {\n        props: {\n          dense: this.$themeStore.denseMode,\n          subheader: true,\n        },\n      }, [\n        ThemePanel,\n        ActionNavDrawer,\n      ])\n    },\n  },\n  render (h): VNode {\n    const prependSlot = getSlot(this, 'prepend')\n    const appendSlot = getSlot(this, 'append')\n    return h(ZNavigationDrawer, {\n      staticClass: 'z-default-navigation-drawer',\n      props: {\n        app: true,\n        value: this.visible,\n        width: this.width,\n        clipped: this.clipped,\n        permanent: this.permanent,\n        miniVariant: this.expandOnHover,\n        expandOnHover: this.expandOnHover,\n      },\n      scopedSlots: {\n        prepend: (props: any) => prependSlot,\n        append: (props: any) => [appendSlot, this.genDefaultAppend(h)],\n      },\n      on: {\n        'change:mini-variant': (val: boolean) => {\n          if (val) {\n            this.$menu.resetStatus()\n          } else {\n            this.$menu.activeByRoute()\n          }\n        },\n      },\n    }, [this.$slots.default])\n  },\n})\n\nexport default ZDefaultNavDrawer\n"],"sourceRoot":"","file":"ZDefaultNavDrawer.js"}